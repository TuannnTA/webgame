<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chi ti·∫øt game</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
</head>
<body class="bg-gray-900 text-white">
  <div class="max-w-3xl mx-auto p-6">
    <a href="index.html" class="text-blue-400">&larr; Quay v·ªÅ</a>
    <h1 id="game-name" class="text-3xl font-bold mt-4 mb-2">ƒêang t·∫£i...</h1>
    <img id="game-img" src="" alt="" class="rounded shadow mb-4" />
    <p id="game-tags" class="mb-4"></p>
    <p id="game-desc" class="mb-6"></p>

    <!-- üìå Ph·∫ßn ch√®n n·ªôi dung chi ti·∫øt -->
    <div id="extra-detail" class="mb-6 text-base leading-relaxed"></div>

    <a id="game-link" href="#" class="bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600">T·∫£i game</a>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const gameId = params.get("id");

    if (!gameId) {
      document.body.innerHTML = "<p class='text-red-500 p-4'>Thi·∫øu ID game.</p>";
    } else {
      // T·∫£i data.json
      fetch(`game/${gameId}/data.json`)
        .then((res) => res.json())
        .then((data) => {
          document.title = data.name;
          document.getElementById("game-name").textContent = data.name;
          document.getElementById("game-img").src = data.img;
          document.getElementById("game-img").alt = data.name;
          document.getElementById("game-tags").textContent = "Th·ªÉ lo·∫°i: " + data.tags.join(" | ");
          document.getElementById("game-desc").textContent = data.longDesc || data.desc;
          document.getElementById("game-link").href = data.link;
        })
        .catch(() => {
          document.body.innerHTML = "<p class='text-red-500 p-4'>Kh√¥ng t√¨m th·∫•y game.</p>";
        });

      // üìå T·∫£i detail.html n·∫øu c√≥
      fetch(`game/${gameId}/detail.html`)
        .then(res => {
          if (!res.ok) throw new Error();
          return res.text();
        })
        .then(html => {
          document.getElementById("extra-detail").innerHTML = html;
        })
        .catch(() => {
          // Kh√¥ng c√≥ detail.html th√¨ b·ªè qua
        });
    }
  </script>
</body>
</html>
